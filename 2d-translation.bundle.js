(()=>{"use strict";var e={505:e=>{e.exports="#version 300 es\n\n// an attribute is an input (in) to a vertex shader.\n// It will receive data from a buffer\nin vec2 a_position;\n\nuniform mat3 u_matrix;\n\n// all shaders have a main function\nvoid main() {\n    // Multiply the position by the matrix\n\n    // gl_Position is a special variable a vertex shader\n    // is responsible for setting\n    gl_Position = vec4((u_matrix * vec3(a_position, 1)).xy, 0, 1);\n}\n"},667:e=>{e.exports='#version 300 es\n\n// fragment shaders don\'t have a default precision so we need\n// to pick one. highp is a good default. It means "high precision"\nprecision highp float;\n\nuniform vec4 u_color;\n\n// we need to declare an output for the fragment shader\nout vec4 outColor;\n\nvoid main() {\n    // Just set the output to a constant reddish-purple\n    outColor = u_color;\n}\n'}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}(()=>{var e=n(505),t=n(667);const r=(e,t,n)=>{const r=e.createShader(t);if(e.shaderSource(r,n),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS))return r;console.log(e.getShaderInfoLog(r)),e.deleteShader(r)},a=function(){const e={};return window.hackedParams&&Object.keys(window.hackedParams).forEach((function(t){e[t]=window.hackedParams[t]})),window.location.search&&window.location.search.substring(1).split("&").forEach((function(t){const n=t.split("=").map((function(e){return decodeURIComponent(e)}));e[n[0]]=n[1]})),e}();function o(e,t){const n=document.querySelector(e);if(n)return t.name||(t.name=e.substring(1)),function(e,t){const n=t.precision||0;let r=t.min||0;const o=t.step||1;let i=t.value||0,c=t.max||1;const s=t.slide,d=a["ui-"+t.name]||t.name,u=void 0===t.uiPrecision?n:t.uiPrecision,l=t.uiMult||1;r/=o,c/=o,i/=o,e.innerHTML=`\n      <div class="gman-widget-outer">\n        <div class="gman-widget-label">${d}</div>\n        <div class="gman-widget-value"></div>\n        <input class="gman-widget-slider" type="range" min="${r}" max="${c}" value="${i}" />\n      </div>\n    `;const m=e.querySelector(".gman-widget-value"),h=e.querySelector(".gman-widget-slider");function v(e){m.textContent=(e*o*l).toFixed(u)}function p(e){const t=parseInt(e.target.value);v(t),s(e,{value:t*o})}return v(i),h.addEventListener("input",p),h.addEventListener("change",p),{elem:e,updateValue:e=>{e/=o,h.value=String(e),v(e)}}}(n,t)}const i=(e,t)=>{const n=e[0],r=e[1],a=e[2],o=e[3],i=e[4],c=e[5],s=e[6],d=e[7],u=e[8],l=t[0],m=t[1],h=t[2],v=t[3],p=t[4],g=t[5],f=t[6],x=t[7],w=t[8];return[l*n+m*o+h*s,l*r+m*i+h*d,l*a+m*c+h*u,v*n+p*o+g*s,v*r+p*i+g*d,v*a+p*c+g*u,f*n+x*o+w*s,f*r+x*i+w*d,f*a+x*c+w*u]},c=(e,t)=>[1,0,0,0,1,0,e,t,1],s=e=>{const t=Math.cos(e),n=Math.sin(e);return[t,-n,0,n,t,0,0,0,1]};(()=>{const n=document.querySelector("#c"),a=n.getContext("webgl2");if(!a)return console.error("Couldn't activate webgl2 context"),void(e=>{const t=document.createElement("div");t.className="error";const n=document.createElement("p");n.appendChild(document.createTextNode("Sorry, your browser doesn't seem to support WebGL 2 :(")),t.appendChild(n);const r=document.createElement("p");r.appendChild(document.createTextNode("Try running in the latest Firefox or Chrome.")),t.appendChild(r),e.appendChild(t)})(n.parentElement);const d=((e,t)=>{const[n,a]=t;return((e,t)=>{const[n,r]=t,a=e.createProgram();if(e.attachShader(a,n),e.attachShader(a,r),e.linkProgram(a),e.getProgramParameter(a,e.LINK_STATUS))return a;console.log(e.getProgramInfoLog(a)),e.deleteProgram(a)})(e,[r(e,e.VERTEX_SHADER,n),r(e,e.FRAGMENT_SHADER,a)])})(a,[e,t]),u=a.getAttribLocation(d,"a_position"),l=a.getUniformLocation(d,"u_color"),m=a.getUniformLocation(d,"u_matrix"),h=a.createBuffer(),v=a.createVertexArray();a.bindVertexArray(v),a.enableVertexAttribArray(u),a.bindBuffer(a.ARRAY_BUFFER,h),function(e){e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,0,30,0,0,150,0,150,30,0,30,150,30,0,100,0,30,30,30,30,100,0,100,30,30,60,67,60,30,90,30,90,67,60,67,90]),e.STATIC_DRAW)}(a);const p=a.FLOAT;a.vertexAttribPointer(u,2,p,!1,0,0);const g=[150,100];let f=0;const x=[1,1],w=[Math.random(),Math.random(),Math.random(),1];function A(e){return(t,n)=>{g[e]=n.value,_()}}function S(e){return(t,n)=>{x[e]=n.value,_()}}function _(){((e,t)=>{t=t||1;const n=e.clientWidth*t|0,r=e.clientHeight*t|0;(e.width!==n||e.height!==r)&&(e.width=n,e.height=r)})(a.canvas,window.devicePixelRatio),a.viewport(0,0,a.canvas.width,a.canvas.height),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),a.useProgram(d),a.bindVertexArray(v);const e=(u=a.canvas.clientWidth,h=a.canvas.clientHeight,[2/u,0,0,0,-2/h,0,-1,1,1]),t=c(-50,-75),n=[e,c(g[0],g[1]),s(f),(r=x[0],o=x[1],[r,0,0,0,o,0,0,0,1]),t].reduce(i);var r,o,u,h;a.uniformMatrix3fv(m,!1,n),a.uniform4fv(l,w);const p=a.TRIANGLES;a.drawArrays(p,0,18)}_(),o("#x",{slide:A(0),max:a.canvas.width}),o("#y",{slide:A(1),max:a.canvas.height}),o("#r",{slide:function(e,t){const n=360-t.value;f=Math.PI/180*n,_()},max:360}),o("#scaleX",{value:x[0],slide:S(0),min:-5,max:5,step:.01,precision:2}),o("#scaleY",{value:x[1],slide:S(1),min:-5,max:5,step:.01,precision:2})})()})()})();
//# sourceMappingURL=2d-translation.bundle.js.map